{"version":3,"sources":["flashcard.js"],"names":[],"mappings":"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","file":"flashcard-compiled.js","sourcesContent":["var Flashcard = (function($) {\n\n    var questions;\n    var currentIndex = -1;\n    var progress = 0;\n    var isQuestion = true;\n    var showingMessage = false;\n\n    var showMessage = function () {\n        showingMessage = !showingMessage;\n        $('#message').css('display', 'block');\n    }\n\n    var nextIndex = function () {\n        if (showingMessage) {\n            $('#message').css('display', 'none');\n            showingMessage = !showingMessage;\n        }\n\n        currentIndex++;\n        if (currentIndex >= questions.length) {\n            currentIndex = 0;\n            progress = 0\n            showMessage();\n        }\n        return currentIndex;\n    }\n\n    var loadData = function (file) {\n        var subjectId = $('#subject-id').attr('value');\n        console.log(subjectId);\n        $.getJSON('/subject/' + subjectId + '/json', function(result) {\n            console.log(result);\n            console.log('Loaded subject');\n            renderInitialData(result);\n        })\n        .fail(function (error) {\n            console.log('Not able to load subject JSON with error:\\n', error);\n        });\n    }\n\n    var renderInitialData = function (data) {\n        console.log('Rendering data');\n        questions = data.sort(function() {\n            return 0.5 - Math.random();\n        });\n\n        $('#progress-total').html(questions.length);\n\n        var next = nextIndex();\n\n        renderQuestion(questions[next]);\n    }\n\n    var renderQuestion = function (question) {\n        console.log('Rendering question');\n        $('#progress-current').html(++progress);\n        $('#answer-detail').html('');\n        var element = $('#question-detail')\n        $(element).html(question.question);\n        MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, element[0]]);\n\n    }\n\n    var next = function () {\n        if (!isQuestion) {\n            var next = nextIndex();\n            var question = questions[next];\n            renderQuestion(question);\n        } else {\n            var element = $('#answer-detail')\n            $(element).html(questions[currentIndex].answer);\n            MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, element[0]]);\n        }\n        isQuestion = !isQuestion;\n    }\n\n    return {\n        init: function () {\n            console.log('Initiating flashcards');\n            loadData();\n        },\n        next: next\n    }\n\n})(jQuery);\n\n$(window).on('load', function () {\n    Flashcard.init();\n    $(window).on('keypress', function () {\n        Flashcard.next();\n    });\n\n    $('#question-detail').on('touchend', function() {\n        Flashcard.next();\n    });\n});\n"]}